(jbuild_version 1)

; Copy autogenerated files
(rule (copy ../spec/amqp_spec.ml amqp_spec.ml))
(rule (copy ../spec/amqp_constants.ml amqp_constants.ml))

(library
 ((name amqp_thread_lwt)
  (public_name amqp-client.lwt.driver)
  (synopsis "lwt driver")
  (modules (Amqp_thread_lwt))
  (libraries (lwt))
  (optional)
 )
)

(library
 ((name        amqp_client.lwt)
  (public_name amqp-client.lwt)
  (synopsis "lwt version")
  (modules (:standard \ (Amqp_thread_lwt Amqp_thread_async Gen_spec)))
  (libraries (ocplib-endian amqp_thread_lwt))
  (wrapped false)
  (flags (-open Amqp_thread_lwt))
  (optional)
 )
)
