Remove dependency on Batteries
Improve autogenerated interface
Implement high level functions:
  - Rpc, Broadcast, Direct, Consume
